import{n as e,i as a,m as r,r as l,c as s,b as o,y as t,o as u,u as n,J as i,v as d}from"./vendor.a0efbb0e.js";import{r as m,g as c,p,e as v}from"./user.98dae688.js";import"./index.49d72d81.js";const g=o("div",{class:"register-container-title"},"用户注册",-1),f=o("p",{class:"tips"},"不接受个人邮箱注册，只接受企业、机构邮箱",-1),h=o("div",{class:"get-code"},"获取验证码",-1),_=d("提交"),b={style:{color:"#fff"}},P=d(" 已有账户？去 "),y=o("div",{class:"register-container-tips"},"珠海市普林芯驰科技有限公司",-1),j={expose:[],setup(d){const j=e(!1),w=e(!1),x=e(!1),{run:U}=m((e=>c(e)),{manual:!0,onSuccess(e){j.value=!0}});m((e=>p(e)),{manual:!0,onError(e){w.value=!0}});const{run:k}=m((e=>v(e)),{manual:!0,onError(e){x.value=!0}}),q=a("global"),$=e("https://xuanci.spacetouch.co/include/vdimgck.php"),S=e(""),z=r({name:"",password:"",phone:"",email:"",realname:"",description:""}),E={name:[{required:!0,validator:async(e,a)=>(U(z.name),a?j.value?Promise.reject("账号已存在"):Promise.resolve():Promise.reject("请输入账号名称")),trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],checkPass:[{required:!0,validator:async(e,a)=>a?z.password!==S.value?Promise.reject("两次输入密码不一致，请重新输入"):Promise.resolve():Promise.reject("请再次输入密码"),trigger:"blur"}],realname:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],email:[{required:!0,validator:async(e,a)=>{if(k({email:z.email}),!a)return Promise.reject("请输入邮箱");if(x.value)return Promise.reject("邮箱已注册");return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(z.email)?Promise.resolve():Promise.reject("请输入正确的邮箱地址")},trigger:"blur"}],phone:[{required:!0,validator:async(e,a)=>{if(p({phone:z.phone}),!a)return Promise.reject("请输入手机号码");if(w.value)return Promise.reject("手机号已注册");return/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[189]))\d{8}$/.test(z.phone)?Promise.resolve():Promise.reject("请输入正确的手机号码")},trigger:"blur"}],description:[{required:!0,message:"请输入项目描述",trigger:"blur"}]};function A(){/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[189]))\d{8}$/.test($.value),q.$router.push("/success")}return(e,a)=>{const r=l("a-col"),d=l("a-input"),m=l("a-form-item"),c=l("a-textarea"),p=l("a-button"),v=l("a-form"),j=l("a-row");return u(),s("div",{class:"register-container",style:`background-image: url(${e.getSrc("/src/assets/login_images/login_background.png")});`},[o(j,null,{default:t((()=>[o(r,{xs:0,md:0,sm:12,lg:14,xl:16}),o(r,{xs:24,sm:24,md:12,lg:10,xl:6},{default:t((()=>[o("div",{class:"register-container-form",style:`background-image: url(${e.getSrc("/src/assets/login_images/login_form.png")});`},[g,o(v,{rules:E,model:n(z),onSubmit:[A,a[10]||(a[10]=i((()=>{}),["prevent"]))]},{default:t((()=>[o(m,{name:"name"},{default:t((()=>[o(d,{value:n(z).name,"onUpdate:value":a[1]||(a[1]=e=>n(z).name=e),placeholder:"账号名称"},null,8,["value"])])),_:1}),o(m,{name:"password"},{default:t((()=>[o(d,{value:n(z).password,"onUpdate:value":a[2]||(a[2]=e=>n(z).password=e),type:"password",placeholder:"密码"},null,8,["value"])])),_:1}),o(m,{name:"checkPass"},{default:t((()=>[o(d,{value:S.value,"onUpdate:value":a[3]||(a[3]=e=>S.value=e),type:"password",placeholder:"确认密码"},null,8,["value"])])),_:1}),o(m,null,{default:t((()=>[o(d,{value:n(z).realname,"onUpdate:value":a[4]||(a[4]=e=>n(z).realname=e),placeholder:"真实姓名"},null,8,["value"])])),_:1}),o(m,{name:"email"},{default:t((()=>[o(d,{value:n(z).email,"onUpdate:value":a[5]||(a[5]=e=>n(z).email=e),placeholder:"邮箱"},null,8,["value"]),f])),_:1}),o(m,{name:"description"},{default:t((()=>[o(c,{value:n(z).description,"onUpdate:value":a[6]||(a[6]=e=>n(z).description=e),placeholder:"项目描述",autosize:{minRows:3,maxRows:3}},null,8,["value"])])),_:1}),o(m,{name:"phone"},{default:t((()=>[o(d,{value:n(z).phone,"onUpdate:value":a[7]||(a[7]=e=>n(z).phone=e),placeholder:"手机号码"},null,8,["value"])])),_:1}),o(m,null,{default:t((()=>[o(d,{value:n(z).google_code,"onUpdate:value":a[8]||(a[8]=e=>n(z).google_code=e),placeholder:"验证码",style:{position:"relative"}},null,8,["value"]),h])),_:1}),o(m,null,{default:t((()=>[o(p,{type:"primary","html-type":"submit"},{default:t((()=>[_])),_:1})])),_:1}),o(m,null,{default:t((()=>[o("span",b,[P,o("a",{style:{color:"#DEB887"},onClick:a[9]||(a[9]=a=>e.$router.push("/login"))},"登录")])])),_:1})])),_:1},8,["model"])],4)])),_:1})])),_:1}),y],4)}}};export default j;
